<!doctype html>
<html>

<head>
    <title>Channel Register</title>
    <link rel="stylesheet" href="static/bootstrap/css/bootstrap.min.css" typetype="text/css">
    <link rel="stylesheet" href="static/bootstrap/css/custom.css" typetype="text/css">
</head>

<body class="back-bg">
    <div class="col-sm-12 alert-back top-header-shadow">
        <div class="container">
            <div class="row header">
                <div class="col-sm-12 center">
                    <h1 class="main-title">Alert</h1>
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-12">
        <div class="row">
            <div class="col-sm-4 col-sm-push-4 centralize batta">
                <form role="form" id="main-form">
                    <div class="form-group">
                        <label>Name:</label>
                        <input type="text" class="form-control form-custom" id="name" name="name">
                    </div>
                    <div class="form-group">
                        <label>Description:</label>
                        <input type="text" class="form-control form-custom" id="description" name="description">
                    </div>
                    <div class="form-group">
                        <label>Latitude:</label>
                        <input type="text" class="form-control form-custom" id="latitude" name="latitude">
                    </div>
                    <div class="form-group">
                        <label>Longitude:</label>
                        <input type="text" class="form-control form-custom" id="longitude" name="longitude">
                    </div>
                    <div class="form-group">
                        <label>Radius:</label>
                        <input type="text" class="form-control form-custom" id="radius" name="radius">
                    </div>
                    <div class="form-group">
                        <label>API Key:</label>
                        <input type="text" class="form-control form-custom" id="api-key" name="api-key">
                    </div>
                    <div class="form-group">
                        <label>Severity:</label>
                        <select id="severity" name="severity" class="form-control">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                        </select>
                    </div>
                    <div class="button-group">
                        <button type="submit" class="btn col-sm-6 col-sm-push-3 btn-alert-custom btn-shadow">Submit</button>
                    </div>
            </div>
            </form>
        </div>
    </div>
    </div>
    <script src="static/bootstrap/js/jquery.min.js" type="text/javascript"></script>
    <script src="static/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script type="text/javascript">
    var form = document.getElementById("main-form");
    form.onsubmit = function() {
        //function submimt(){

        var post_json = {
            "name": document.getElementById("name").value,
            "description": document.getElementById("description").value,
            "lat": document.getElementById("latitude").value,
            "long": document.getElementById("longitude").value,
            "radius": document.getElementById("radius").value,
            "apikey": document.getElementById('api-key').value,
            "severity": document.getElementById('severity').value
        };
        console.log(post_json);
        // alert(post_json);
        $.ajax({
            type: "POST",
            url: "http://localhost:8089/api/alert/",
            data: post_json,
            success: function(response) {
                console.log(response);
                alert(response);
                // location.href="api.html?response="+response;

            },
            complete: function(response) {
                console.log("complete" + response);
                // alert("complete"+response);

            },
            error: function(jqxhr, status, error) {
                console.log(error);
                alert(error);
            }
        });
        //event.preventDefault();
    }
    </script>
</body>

</html>
